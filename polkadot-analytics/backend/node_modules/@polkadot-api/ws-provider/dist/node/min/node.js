"use strict";var d=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var k=(o,r)=>{for(var n in r)d(o,n,{get:r[n],enumerable:!0})},y=(o,r,n,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of L(r))!f.call(o,t)&&t!==n&&d(o,t,{get:()=>r[t],enumerable:!(e=g(r,t))||e.enumerable});return o};var P=o=>y(d({},"__esModule",{value:!0}),o);var l={};k(l,{WebSocketProvider:()=>b});module.exports=P(l);var m=require("ws");var a=require("@polkadot-api/json-rpc-provider-proxy"),p=o=>(r,n)=>(0,a.getSyncProvider)(async()=>{let e=new o(r,n);return await new Promise((t,i)=>{let c=()=>{t(),e.removeEventListener("error",s)};e.addEventListener("open",c,{once:!0});let s=E=>{console.error(`Unable to connect to ${r}${n?", protocols: "+n:""}`),i(E),e.removeEventListener("open",c)};e.addEventListener("error",s,{once:!0})}),(t,i)=>{let c=s=>{typeof s.data=="string"&&t(s.data)};return e.addEventListener("message",c),e.addEventListener("error",i),e.addEventListener("close",i),{send:s=>{e.send(s)},disconnect:()=>{e.removeEventListener("message",c),e.removeEventListener("error",i),e.removeEventListener("close",i),e.close()}}}});var v=class extends m.WebSocket{close(){this.terminate()}},b=p(v);
//# sourceMappingURL=node.js.map